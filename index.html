<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>ReviseTonSIO</title>

    <style>
      .skill-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        transform-origin: center;
        backface-visibility: hidden;
      }
      .skill-card:hover {
        transform: translateY(-8px) rotate(-3deg);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.45);
      }
      /* active button */
      .filter-btn.active {
        background: #7c3aed; /* purple-500 */
        color: white;
      }
    </style>
  </head>
  <body
    class="bg-gray-950 text-white min-h-screen flex flex-col items-center py-12 px-4"
  >
    <!-- Title -->
    <h1 class="text-4xl font-extrabold text-purple-300 tracking-wide">
      ReviseTonSIO
    </h1>
    <p class="text-gray-400 mt-2">Apprend le BTS SIO</p>

    <!-- SKILL GRID -->
    <div
      id="skillsGrid"
      class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 mt-12 px-6 w-full max-w-6xl"
    >
      <!-- Cards generated by JavaScript -->
    </div>

    <script>
      // Corrected skills array (no syntax errors)
      const skills = [
        {
          name: "CEJM",
          icon: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/bazel/bazel-original.svg",
          lien: "/CEJM.html",
        },
        {
          name: "Math",
          icon: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/trpc/trpc-original.svg",
          lien: "/math.html",
        },
        {
          name: "Anglais",
          icon: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/nim/nim-original.svg",
          lien: "/anglais.html",
        },
        {
          name: "Cybersécurité",
          icon: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/opentelemetry/opentelemetry-original.svg",
          lien: "/cybersecurite.html",
        },
        {
          name: "Culture G",
          icon: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/apache/apache-original.svg",
          lien: "/cultureg.html",
        },
        {
          name: "SLAM",
          icon: "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/laravel/laravel-original.svg",
          lien: "https://langstack.netlify.app/",
        },
      ];

      const grid = document.getElementById("skillsGrid");
      const filtersContainer = document.getElementById("filters");

      function createCard(skill) {
        const card = document.createElement("div");
        card.className =
          "skill-card bg-gray-900/60 backdrop-blur-sm border border-gray-800 rounded-xl p-6 flex flex-col items-center w-40 mx-auto";

        card.innerHTML = `
        <img src="${skill.icon}" alt="${skill.name} logo" class="w-12 h-12 mb-4" />
        <h3 class="text-lg font-bold mb-2 tracking-wide">${skill.name}</h3>
        <a href="${skill.lien}" class="bg-violet-500 rounded rounded-full p-2 mt-2">Cours</a>
      `;

        return card;
      }

      function render(category = "all") {
        // clear
        grid.innerHTML = "";

        const filtered = skills.filter(
          (s) => category === "all" || s.category === category
        );

        if (filtered.length === 0) {
          const msg = document.createElement("p");
          msg.className = "text-gray-400 col-span-full text-center";
          msg.textContent = "Aucune compétence trouvée pour cette catégorie.";
          grid.appendChild(msg);
          return;
        }

        // append
        filtered.forEach((skill) => grid.appendChild(createCard(skill)));
      }

      // Init: render all
      render("all");

      // Filter buttons behaviour + active styling
      filtersContainer.addEventListener("click", (e) => {
        const btn = e.target.closest("button[data-category]");
        if (!btn) return;
        const category = btn.getAttribute("data-category");

        // toggle active classes
        document
          .querySelectorAll(".filter-btn")
          .forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");

        // render
        render(category);
      });

      // make first button active on load
      const firstBtn = document.querySelector(
        '.filter-btn[data-category="all"]'
      );
      if (firstBtn) firstBtn.classList.add("active");
    </script>
  </body>
</html>
